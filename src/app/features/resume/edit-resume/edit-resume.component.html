<form [formGroup]="resume" >
<ng-container *ngIf="type=='personal'">
  
<div formGroupName="personal" style="border:solid rgb(247, 66, 201); padding:10px; border-radius:10%"  >
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" [class.is-invalid]="resume.get('personal')?.get('name')?.invalid && resume.get('personal')?.get('name')?.touched" formControlName="name" class="form-control" (ngModelChange)="fn()"/>
      <small [class.d-none]="resume.get('personal')?.get('name')?.valid || !resume.get('personal')?.get('name')?.touched" class="text-danger">name is invalid</small>
    </div>
    <div class="form-group">
      <label for="email">email</label>
      <input type="email" [class.is-invalid]="resume.get('personal')?.get('email')?.invalid && resume.get('personal')?.get('email')?.touched" formControlName="email" class="form-control" (ngModelChange)="fn()" />
      <small [class.d-none]="resume.get('personal')?.get('email')?.valid || !resume.get('personal')?.get('email')?.touched" class="text-danger">email is invalid</small>
    </div>
    <div class="form-group">
      <label for="phone">phone</label>
      <input type="text" [class.is-invalid]="resume.get('personal')?.get('phone')?.invalid && resume.get('personal')?.get('phone')?.touched" formControlName="phone" class="form-control" (ngModelChange)="fn()"/>
      <small [class.d-none]="resume.get('personal')?.get('phone')?.valid || !resume.get('personal')?.get('phone')?.touched" class="text-danger">contact is invalid</small>
    </div>
    <div class="form-group">
      <label for="address">address</label>
      <input type="text" formControlName="address"  class="form-control" (ngModelChange)="fn()"/>
    </div>
  </div>
  <!-- <div *ngFor="let property of user | keyvalue">   
    <ng-container *ngIf="type===property.key">
        {{property.value}}
                    <div [formGroupName]="property.key">
                         <mat-form-field>
                       //  <input   formControlName="name"  type="text"  >
                         </mat-form-field>   
                    </div>
                </ng-container>
          </div> -->
</ng-container>

<ng-container *ngIf="type=='education'">
  <div formArrayName="education" *ngFor="let item of education.controls; let i=index"  >
    <div [formGroupName]="i" style="border:solid rgb(247, 66, 201); padding:10px; border-radius:10%"  >
      <div class="form-group">
        <label for="school">School</label>
        <input type="text" (ngModelChange)="fn()" formControlName="school" class="form-control" />
      </div>
      <div class="form-group">
        <label for="Major">Major</label>
        <input type="text" (ngModelChange)="fn()" formControlName="major" class="form-control" />
      </div>
      <div class="form-group">
        <label for="Degree">Degree</label>
        <input type="text" (ngModelChange)="fn()" formControlName="degree" class="form-control" />
      </div>
      <div class="form-group">
        <label for="cgpa">CGPA</label>
        <input type="text" (ngModelChange)="fn()" formControlName="CGPA" class="form-control" />
      </div>
      <button class="btn btn-danger" (click)="removeEducation(i)">delete</button>
    </div>
  </div>
  <button class="btn btn-secondary" (click)="addEducation()">add education</button>
</ng-container>
 

<ng-container *ngIf="type=='work'">
  <div formArrayName="work" *ngFor="let item of work.controls;let i=index">
    <div [formGroupName]="i" style="border:solid rgb(247, 66, 201); padding:10px; border-radius:10%" >
      <div class="form-group">
        <label for="profile">profile</label>
        <input type="text" (ngModelChange)="fn()" formControlName="profile" class="form-control" />
      </div>
      <div class="form-group">
        <label for="Company">company</label>
        <input type="text"  (ngModelChange)="fn()" formControlName="company" class="form-control" />
      </div>
      <div class="form-group">
        <label for="Desc">Desc</label>
        <textarea
          name=""
          id=""
          cols="10"
          rows="5"
          class="form-control"
          formControlName="desc"
          (ngModelChange)="fn()"
        ></textarea>
      </div>
      <button class="btn btn-danger" (click)="removeWork(i)">delete</button>
    </div>
  </div>
  <button class="btn btn-secondary" (click)="addWork()">add work ex</button>
</ng-container>


<ng-container *ngIf="type=='projects'">
  <div formArrayName="projects" *ngFor="let project of projects().controls; let i=index">
    <div [formGroupName]="i" style="border:solid rgb(247, 66, 201); padding:10px; border-radius:10%" >
      <div class="form-group">
        <label for="name">name</label>
        <input type="text" formControlName="name" (ngModelChange)="fn()" class="form-control" />
      </div>
      <div class="form-group">
        <label for="desc">desc</label>
        <textarea
          cols="10"
          rows="5"
          class="form-control"
          formControlName="desc"
          (ngModelChange)="fn()"
        ></textarea>
      </div>
      <button class="btn btn-danger" (click)="removeProject(i)">delete</button>
    </div>
  </div>
  <button class="btn btn-secondary" (click)="addProject()">add project</button>
</ng-container>

<ng-container *ngIf="type=='skills'">
  <div class="form-group" style="border:solid rgb(247, 66, 201); padding:10px; border-radius:10%" >
    <label for="skills"><b>skills</b> <br> <small>use comma separation</small></label>
    <!-- <input type="text" name="" placeholder="use comma separation" formControlName="skills" id="" class="form-control"  (ngModelChange)="fn()"/> -->
    <textarea
          cols="10"
          rows="5"
          class="form-control"
          formControlName="skills"
          (ngModelChange)="fn()"
        ></textarea>
  </div>
</ng-container>

</form>